{"info":{"description":"API for PrskLab - Project SEKAI related web application","title":"PrskLab API","version":"1.0.0"},"openapi":"3.0.0","servers":[{"description":"Local development server","url":"http://localhost:30000"}],"tags":[{"description":"User management endpoints","name":"Users"},{"description":"User settings management","name":"Settings"},{"description":"Character and unit information","name":"Characters"}],"components":{"securitySchemes":{"bearerAuth":{"bearerFormat":"JWT","description":"NextAuth session token","scheme":"bearer","type":"http"},"discordAuth":{"description":"Discord OAuth token","in":"header","name":"X-Discord-Token","type":"apiKey"}},"schemas":{},"parameters":{}},"paths":{"/api/users/me":{"get":{"description":"Get the currently authenticated user's information","security":[{"bearerAuth":[]}],"summary":"Get current user","tags":["Users"],"responses":{"200":{"description":"User found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"discordId":{"type":"string"},"email":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string","nullable":true},"role":{"type":"string","enum":["Admin","Editor","Viewer"]}},"required":["avatarUrl","discordId","email","id","name","role"]}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}}},"/api/users":{"post":{"description":"Register a new user with Discord OAuth","security":[{"discordAuth":[]}],"summary":"Create a new user","tags":["Users"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"discordId":{"type":"string","minLength":1},"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true}},"required":["avatarUrl","discordId","email","name"]}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"discordId":{"type":"string"},"email":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string","nullable":true},"role":{"type":"string","enum":["Admin","Editor","Viewer"]}},"required":["avatarUrl","discordId","email","id","name","role"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"409":{"description":"Conflict - Resource already exists"}}}},"/api/users/settings":{"get":{"description":"Get the current user's settings","security":[{"bearerAuth":[]}],"summary":"Get user settings","tags":["Settings"],"responses":{"200":{"description":"Settings found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}},"post":{"description":"Create new settings for the current user","security":[{"bearerAuth":[]}],"summary":"Create user settings","tags":["Settings"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"leaderSheetUrl":{"type":"string","nullable":true}},"required":["leaderSheetUrl"]}}}},"responses":{"201":{"description":"Settings created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"409":{"description":"Conflict - Resource already exists"}}},"patch":{"description":"Update the current user's settings","security":[{"bearerAuth":[]}],"summary":"Update user settings","tags":["Settings"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"leaderSheetUrl":{"type":"string","nullable":true}},"required":["leaderSheetUrl"]}}}},"responses":{"200":{"description":"Settings updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}}},"/api/characters":{"get":{"description":"Retrieve all characters with their unit information","summary":"Get all characters","tags":["Characters"],"responses":{"200":{"description":"Characters retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"isVirtualSinger":{"type":"boolean"},"name":{"type":"string"},"short":{"type":"string"},"unit":{"type":"object","nullable":true,"properties":{"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"name":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","code","color","name","short"]}},"required":["avatarUrl","bgColor","code","color","isVirtualSinger","name","short","unit"]}}},"required":["characters"]}},"required":["message","success"]}}}},"500":{"description":"Internal server error"}}}}}}
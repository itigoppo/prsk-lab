{"info":{"description":"API for PrskLab - Project SEKAI related web application","title":"PrskLab API","version":"1.0.0"},"openapi":"3.0.0","servers":[{"description":"Local development server","url":"http://localhost:30000"}],"tags":[{"description":"Admin endpoints for furniture management (Editor/Admin only)","name":"Admin - Furnitures"},{"description":"Character and unit information","name":"Characters"},{"description":"Furniture and reaction information","name":"Furnitures"},{"description":"Reaction check management","name":"Reactions"},{"description":"User settings management","name":"Settings"},{"description":"Unit information","name":"Units"},{"description":"User management endpoints","name":"Users"}],"components":{"securitySchemes":{"bearerAuth":{"bearerFormat":"JWT","description":"NextAuth session token","scheme":"bearer","type":"http"},"discordAuth":{"description":"Discord OAuth token","in":"header","name":"X-Discord-Token","type":"apiKey"}},"schemas":{},"parameters":{}},"paths":{"/api/users/me":{"get":{"description":"Get the currently authenticated user's information","security":[{"bearerAuth":[]}],"summary":"Get current user","tags":["Users"],"responses":{"200":{"description":"User found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"discordId":{"type":"string"},"email":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string","nullable":true},"role":{"type":"string","enum":["Admin","Editor","Viewer"]}},"required":["avatarUrl","discordId","email","id","name","role"]}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}}},"/api/users":{"post":{"description":"Register a new user with Discord OAuth","security":[{"discordAuth":[]}],"summary":"Create a new user","tags":["Users"],"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"discordId":{"type":"string"},"email":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string","nullable":true},"role":{"type":"string","enum":["Admin","Editor","Viewer"]}},"required":["avatarUrl","discordId","email","id","name","role"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"409":{"description":"Conflict - Resource already exists"}}}},"/api/users/settings":{"get":{"description":"Get the current user's settings","security":[{"bearerAuth":[]}],"summary":"Get user settings","tags":["Settings"],"responses":{"200":{"description":"Settings found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}},"post":{"description":"Create new settings for the current user","security":[{"bearerAuth":[]}],"summary":"Create user settings","tags":["Settings"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"leaderSheetUrl":{"type":"string","nullable":true}},"required":["leaderSheetUrl"]}}}},"responses":{"201":{"description":"Settings created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"409":{"description":"Conflict - Resource already exists"}}},"patch":{"description":"Update the current user's settings","security":[{"bearerAuth":[]}],"summary":"Update user settings","tags":["Settings"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"leaderSheetUrl":{"type":"string","nullable":true}},"required":["leaderSheetUrl"]}}}},"responses":{"200":{"description":"Settings updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"isRegistered":{"type":"boolean"},"leaderSheetUrl":{"type":"string","nullable":true}},"required":["isRegistered","leaderSheetUrl"]}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"}}}},"/api/characters":{"get":{"description":"Retrieve all characters with their unit information","summary":"Get all characters","tags":["Characters"],"responses":{"200":{"description":"Characters retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"isVirtualSinger":{"type":"boolean"},"name":{"type":"string"},"short":{"type":"string"},"unit":{"type":"object","nullable":true,"properties":{"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"name":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","code","color","name","short"]}},"required":["avatarUrl","bgColor","code","color","isVirtualSinger","name","short","unit"]}}},"required":["characters"]}},"required":["message","success"]}}}},"500":{"description":"Internal server error"}}}},"/api/units":{"get":{"description":"Retrieve all units","summary":"Get all units","tags":["Units"],"responses":{"200":{"description":"Units retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"},"data":{"type":"object","properties":{"units":{"type":"array","items":{"type":"object","properties":{"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"name":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","code","color","name","short"]}}},"required":["units"]}},"required":["message","success"]}}}},"500":{"description":"Internal server error"}}}},"/api/furnitures":{"get":{"description":"Retrieve all furnitures with ownership status for the current user","security":[{"bearerAuth":[]}],"summary":"Get all furnitures with ownership status","tags":["Furnitures"],"parameters":[{"schema":{"type":"string","description":"Search query for furniture name (partial match)","example":"ソファ"},"required":false,"description":"Search query for furniture name (partial match)","name":"q","in":"query"}],"responses":{"200":{"description":"Furnitures retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"tags":{"type":"array","items":{"type":"object","properties":{"furnitures":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"owned":{"type":"boolean"}},"required":["id","name","owned"]}},"id":{"type":"string"},"name":{"type":"string"}},"required":["furnitures","id","name"]}}},"required":["tags"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"500":{"description":"Internal server error"}}}},"/api/furnitures/{unitCode}":{"get":{"description":"Retrieve furniture list with reactions for a specific unit","security":[{"bearerAuth":[]}],"summary":"Get furnitures by unit","tags":["Furnitures"],"parameters":[{"schema":{"type":"string","description":"Unit code (e.g., leoneed, mmj, vbs, ws, oclock)","example":"leoneed"},"required":true,"description":"Unit code (e.g., leoneed, mmj, vbs, ws, oclock)","name":"unitCode","in":"path"},{"schema":{"type":"string","description":"Comma-separated character IDs to filter reactions","example":"char-id-1,char-id-2"},"required":false,"description":"Comma-separated character IDs to filter reactions","name":"characterIds","in":"query"},{"schema":{"type":"string","description":"Hide tags where all reactions are checked (true/false)","example":"true"},"required":false,"description":"Hide tags where all reactions are checked (true/false)","name":"hideCompleted","in":"query"},{"schema":{"type":"string","description":"Show only owned furniture (true/false)","example":"true"},"required":false,"description":"Show only owned furniture (true/false)","name":"ownedOnly","in":"query"},{"schema":{"type":"string","description":"Search query for furniture name (partial match)","example":"ソファ"},"required":false,"description":"Search query for furniture name (partial match)","name":"q","in":"query"}],"responses":{"200":{"description":"Furnitures retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"tags":{"type":"array","items":{"type":"object","properties":{"furnitures":{"type":"array","items":{"type":"object","properties":{"groupId":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string"},"reactions":{"type":"array","items":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"color":{"type":"string"},"id":{"type":"string"},"short":{"type":"string"}},"required":["color","id","short"]}},"checked":{"type":"boolean"},"checkedByGroup":{"type":"boolean"},"id":{"type":"string"}},"required":["characters","checked","checkedByGroup","id"]}}},"required":["groupId","id","name","reactions"]}},"id":{"type":"string"},"name":{"type":"string"}},"required":["furnitures","id","name"]}},"unitCode":{"type":"string"},"unitName":{"type":"string"}},"required":["tags","unitCode","unitName"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}}},"/api/furnitures/own/{furnitureId}":{"post":{"description":"Mark a furniture as owned by the current user","security":[{"bearerAuth":[]}],"summary":"Own a furniture","tags":["Furnitures"],"parameters":[{"schema":{"type":"string","description":"Furniture ID","example":"clxxxxx"},"required":true,"description":"Furniture ID","name":"furnitureId","in":"path"}],"responses":{"200":{"description":"Furniture marked as owned","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"furnitureId":{"type":"string"},"owned":{"type":"boolean"}},"required":["furnitureId","owned"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}},"delete":{"description":"Remove ownership of a furniture for the current user","security":[{"bearerAuth":[]}],"summary":"Unown a furniture","tags":["Furnitures"],"parameters":[{"schema":{"type":"string","description":"Furniture ID","example":"clxxxxx"},"required":true,"description":"Furniture ID","name":"furnitureId","in":"path"}],"responses":{"200":{"description":"Furniture ownership removed","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"furnitureId":{"type":"string"},"owned":{"type":"boolean"}},"required":["furnitureId","owned"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}}},"/api/reactions/{reactionId}/check":{"post":{"description":"Mark a reaction as checked for the current user","security":[{"bearerAuth":[]}],"summary":"Check a reaction","tags":["Reactions"],"parameters":[{"schema":{"type":"string","description":"Reaction ID","example":"clxxxxx"},"required":true,"description":"Reaction ID","name":"reactionId","in":"path"}],"responses":{"200":{"description":"Reaction checked successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"checked":{"type":"boolean"},"reactionId":{"type":"string"}},"required":["checked","reactionId"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}},"delete":{"description":"Remove check from a reaction for the current user","security":[{"bearerAuth":[]}],"summary":"Uncheck a reaction","tags":["Reactions"],"parameters":[{"schema":{"type":"string","description":"Reaction ID","example":"clxxxxx"},"required":true,"description":"Reaction ID","name":"reactionId","in":"path"}],"responses":{"200":{"description":"Reaction unchecked successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"checked":{"type":"boolean"},"reactionId":{"type":"string"}},"required":["checked","reactionId"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}}},"/api/admin/furniture-characters":{"get":{"description":"Retrieve all characters with their IDs for furniture admin use","security":[{"bearerAuth":[]}],"summary":"Get all characters for furniture management","tags":["Admin - Furnitures"],"responses":{"200":{"description":"Characters retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"avatarUrl":{"type":"string","nullable":true},"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"short":{"type":"string"},"unit":{"type":"object","nullable":true,"properties":{"bgColor":{"type":"string"},"code":{"type":"string"},"color":{"type":"string"},"name":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","code","color","name","short"]}},"required":["avatarUrl","bgColor","code","color","id","name","short","unit"]}}},"required":["characters"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"500":{"description":"Internal server error"}}}},"/api/admin/furniture-tags":{"post":{"description":"Create a new furniture tag with optional furnitures (bulk creation)","security":[{"bearerAuth":[]}],"summary":"Create furniture tag","tags":["Admin - Furnitures"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"furnitures":{"type":"array","items":{"type":"object","properties":{"groupId":{"type":"string","nullable":true},"name":{"type":"string"},"reactions":{"type":"array","items":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":4},"excludeFromGroup":{"type":"boolean","default":false}},"required":["characters"]},"minItems":1}},"required":["groupId","name","reactions"]},"default":[]},"name":{"type":"string"}},"required":["name"]}}}},"responses":{"201":{"description":"Tag created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"500":{"description":"Internal server error"}}},"get":{"description":"Get all furniture tags with furniture count","security":[{"bearerAuth":[]}],"summary":"List furniture tags","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"integer","minimum":0,"exclusiveMinimum":true,"maximum":100,"default":20,"description":"Number of items per page","example":20},"required":false,"description":"Number of items per page","name":"limit","in":"query"},{"schema":{"type":"integer","minimum":0,"exclusiveMinimum":true,"default":1,"description":"Page number","example":1},"required":false,"description":"Page number","name":"page","in":"query"},{"schema":{"type":"string","description":"Search query for tag name (partial match, case insensitive)","example":"フラワー"},"required":false,"description":"Search query for tag name (partial match, case insensitive)","name":"q","in":"query"}],"responses":{"200":{"description":"Tags retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"pagination":{"type":"object","properties":{"limit":{"type":"integer","minimum":0,"exclusiveMinimum":true},"page":{"type":"integer","minimum":0,"exclusiveMinimum":true},"total":{"type":"integer","minimum":0},"totalPages":{"type":"integer","minimum":0}},"required":["limit","page","total","totalPages"]},"tags":{"type":"array","items":{"type":"object","properties":{"furnitureCount":{"type":"number"},"id":{"type":"string"},"name":{"type":"string"}},"required":["furnitureCount","id","name"]}}},"required":["pagination","tags"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"500":{"description":"Internal server error"}}}},"/api/admin/furniture-tags/{tagId}":{"get":{"description":"Get a furniture tag with its furnitures and reactions","security":[{"bearerAuth":[]}],"summary":"Get furniture tag","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Tag ID","example":"clxxxxx"},"required":true,"description":"Tag ID","name":"tagId","in":"path"}],"responses":{"200":{"description":"Tag retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"tag":{"type":"object","properties":{"createdAt":{"type":"string"},"furnitures":{"type":"array","items":{"type":"object","properties":{"groupId":{"type":"string","nullable":true},"groupName":{"type":"string","nullable":true},"id":{"type":"string"},"name":{"type":"string"},"reactions":{"type":"array","items":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"bgColor":{"type":"string"},"color":{"type":"string"},"id":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","color","id","short"]}},"excludeFromGroup":{"type":"boolean"},"id":{"type":"string"}},"required":["characters","excludeFromGroup","id"]}}},"required":["groupId","groupName","id","name","reactions"]}},"id":{"type":"string"},"name":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","furnitures","id","name","updatedAt"]}},"required":["tag"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}},"patch":{"description":"Update a furniture tag with its furnitures and reactions","security":[{"bearerAuth":[]}],"summary":"Update furniture tag","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Tag ID","example":"clxxxxx"},"required":true,"description":"Tag ID","name":"tagId","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"furnitures":{"type":"array","items":{"type":"object","properties":{"groupId":{"type":"string","nullable":true},"name":{"type":"string"},"reactions":{"type":"array","items":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":4},"excludeFromGroup":{"type":"boolean","default":false}},"required":["characters"]},"minItems":1}},"required":["groupId","name","reactions"]},"default":[]},"name":{"type":"string"}},"required":["name"]}}}},"responses":{"200":{"description":"Tag updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"409":{"description":"Conflict - Resource already exists"},"500":{"description":"Internal server error"}}},"delete":{"description":"Delete a furniture tag and all its furnitures (cascade)","security":[{"bearerAuth":[]}],"summary":"Delete furniture tag","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Tag ID","example":"clxxxxx"},"required":true,"description":"Tag ID","name":"tagId","in":"path"}],"responses":{"200":{"description":"Tag deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}}},"/api/admin/furniture-groups":{"post":{"description":"Create a new furniture group with optional excluded character combinations","security":[{"bearerAuth":[]}],"summary":"Create furniture group","tags":["Admin - Furnitures"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"excludedCombinations":{"type":"array","items":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":10}},"furnitureIds":{"type":"array","items":{"type":"string"}},"name":{"type":"string"}},"required":["excludedCombinations","furnitureIds","name"]}}}},"responses":{"201":{"description":"Group created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"500":{"description":"Internal server error"}}},"get":{"description":"Get all furniture groups","security":[{"bearerAuth":[]}],"summary":"List furniture groups","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"integer","minimum":0,"exclusiveMinimum":true,"maximum":100,"default":20,"description":"Number of items per page","example":20},"required":false,"description":"Number of items per page","name":"limit","in":"query"},{"schema":{"type":"integer","minimum":0,"exclusiveMinimum":true,"default":1,"description":"Page number","example":1},"required":false,"description":"Page number","name":"page","in":"query"}],"responses":{"200":{"description":"Groups retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"groups":{"type":"array","items":{"type":"object","properties":{"excludedCombinationCount":{"type":"number"},"furnitureCount":{"type":"number"},"id":{"type":"string"},"name":{"type":"string"}},"required":["excludedCombinationCount","furnitureCount","id","name"]}},"pagination":{"type":"object","properties":{"limit":{"type":"integer","minimum":0,"exclusiveMinimum":true},"page":{"type":"integer","minimum":0,"exclusiveMinimum":true},"total":{"type":"integer","minimum":0},"totalPages":{"type":"integer","minimum":0}},"required":["limit","page","total","totalPages"]}},"required":["groups","pagination"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"500":{"description":"Internal server error"}}}},"/api/admin/furniture-groups/{groupId}":{"get":{"description":"Get a furniture group with excluded combinations and furnitures","security":[{"bearerAuth":[]}],"summary":"Get furniture group detail","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Group ID","example":"clxxxxx"},"required":true,"description":"Group ID","name":"groupId","in":"path"}],"responses":{"200":{"description":"Group retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"group":{"type":"object","properties":{"excludedCombinations":{"type":"array","items":{"type":"object","properties":{"characters":{"type":"array","items":{"type":"object","properties":{"bgColor":{"type":"string"},"color":{"type":"string"},"id":{"type":"string"},"short":{"type":"string"}},"required":["bgColor","color","id","short"]}},"combinationId":{"type":"string"}},"required":["characters","combinationId"]}},"furnitures":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"tagId":{"type":"string"},"tagName":{"type":"string"}},"required":["id","name","tagId","tagName"]}},"id":{"type":"string"},"name":{"type":"string"}},"required":["excludedCombinations","furnitures","id","name"]}},"required":["group"]},"message":{"type":"string"},"success":{"type":"boolean"}},"required":["data","message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}},"patch":{"description":"Update a furniture group. If excludedCombinations are provided, they replace existing ones.","security":[{"bearerAuth":[]}],"summary":"Update furniture group","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Group ID","example":"clxxxxx"},"required":true,"description":"Group ID","name":"groupId","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"excludedCombinations":{"type":"array","items":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":10}},"furnitureIds":{"type":"array","items":{"type":"string"}},"name":{"type":"string"}},"required":["excludedCombinations","furnitureIds","name"]}}}},"responses":{"200":{"description":"Group updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"}},"required":["message","success"]}}}},"400":{"description":"Bad request - Invalid input data"},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}},"delete":{"description":"Delete a furniture group (furnitures will have groupId set to null)","security":[{"bearerAuth":[]}],"summary":"Delete furniture group","tags":["Admin - Furnitures"],"parameters":[{"schema":{"type":"string","description":"Group ID","example":"clxxxxx"},"required":true,"description":"Group ID","name":"groupId","in":"path"}],"responses":{"200":{"description":"Group deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"}},"required":["message","success"]}}}},"401":{"description":"Unauthorized - Authentication required"},"403":{"description":"Forbidden - Insufficient permissions"},"404":{"description":"Not found"},"500":{"description":"Internal server error"}}}}}}